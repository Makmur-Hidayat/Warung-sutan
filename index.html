

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Warung Sutan</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background: #f4f4f4;
    }
    .status-bar {
      text-align: center;
      font-weight: bold;
      padding: 10px;
      color: white;
      background: #dc3545;
      margin-bottom: 20px;
    }
    .container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    .card {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      width: 128px;
    }
    select, textarea {
      width: 100%;
      margin: 8px 0;
      padding: 6px;
    }
    .qty-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .qty-controls button {
      background: #ff7043;
      color: white;
      border: none;
      width: 30px;
      height: 30px;
      font-size: 18px;
      border-radius: 4px;
    }
    .cart {
      margin-top: 30px;
    }
    .cart-item {
      background: white;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }
    .btn-orange {
      background: #ff7043;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
    }
    .btn-orange:hover {
      background: #e05c35;
    }
    .notif {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff7043;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
      z-index: 999;
    }
    .notif.show {
      opacity: 1;
    }
    .btn-kirim {
  background: #ff7043; /* warna hijau WhatsApp */
  color: ff7043;
  font-weight: bold;
  padding: 16px 24px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  width: 100%;
  cursor: pointer;
  margin-top: 15px;
}
.btn-kirim:hover {
  background: white;
}

  </style>
</head>
<body>
<a href="https://www.instagram.com/makmurhidayat2404?igsh=MTRwNGk1NGNmY25scg==" target="_blank" 
   style="
     position: fixed;
     top: 5px;
     right: 27px;
     z-index: 999;
     text-decoration: none;
   ">
  <h2 style="
    color: #ff7043; 
    margin: 0; 
    font-size: 18px; 
    transition: color 0.3s;
  "
  onmouseover="this.style.color='#ff5722'" 
  onmouseout="this.style.color='#ff7043'">
    Warung Lainnya
  </h2>
</a>
<img src="https://i.ibb.co.com/1tg1cXmB/Oranye-Merah-Minimalis-Warung-Makan-Business-Card-20250505-190234-0000.jpg" alt="Ikan" 
style="width:100%; height:100%; display:block; margin:auto;" />

  <div id="statusBar" class="status-bar">TUTUP</div>
  <div id="notif" class="notif"></div>

  <div class="container">
    <!-- Makanan -->
    <div class="card">
      <h3>Makanan</h3>
      <select id="foodSelect">

        <option value="Mie Pedas Dower-12000">Mie Pedas Dower - 12.000</option>
      </select>
      <select id="foodExtra" multiple>
        <option value="Tanpa Topping-0">Tanpa Topping - 0</option>
        <option value="Telur Matasapi-4000">Telur Matasapi - 4.000</option>
        <option value="Telur Dadar-4000">Telur Dadar - 4.000</option>
        <option value="Sosis-4000">Sosis - 4.000</option>
        <option value="Bakso-4000">Bakso - 4.000</option>
      </select>
      <select id="foodOption">
        <option value="">Pilih Level Pedas</option>
        <option value="Original">Original</option>
        <option value="Level Selow">Level Selow</option>
        <option value="Level Lumayan">Lumayan</option>
        <option value="Level Maximal">Maximal</option>

      </select>
      <div class="qty-controls">
        <button onclick="updateQty('food', -1)">-</button>
        <span id="foodQty">1</span>
        <button onclick="updateQty('food', 1)">+</button>
        <span>Subtotal: <span id="foodSubtotal">0</span></span>
      </div>
      <textarea id="foodNote" placeholder="Catatan (opsional)"></textarea>
      <button class="btn-orange" onclick="addToCart('food')">Masukkan Keranjang</button>
    </div>

    <!-- Minuman -->
    <div class="card">
      <h3>Minuman</h3>
      <select id="drinkSelect">
        <option value="">Pilih Menu</option>
        <option value="Milkshake VANILA Original-13000">Milkshake VANILA Original - 13.000</option>
        <option value="Milkshake VANILA LATE -13000">Milkshake VANILA LATE- 13.000</option>
        <option value="Milkshake CHOCO CARAMEL -13000">Milkshake CHOCO CARAMEL- 13.000</option>
        <option value="Milkshake CHOCO OREO -13000">Milkshake CHOCO OREO - 13.000</option>
        <option value="Milkshake MANGGA -13000">Milkshake MANGGA- 13.000</option>
         <option value="Milkshake TARO -13000">Milkshake TARO- 13.000</option>
         <option value="Milkshake TIRAMISU -13000">Milkshake TIRAMISU- 13.000</option>
         <option value="Milkshake CAPOUCINO -13000">Milkshake CAPPUCINO- 13.000</option>
         <option value="LEMONTEA JUMBO -10000">LEMONTEA JUMBO- 10.000</option>
      </select>


      <select id="drinkExtra" multiple>
        <option value="Pakai BOBA-0">Pakai BOBA - 0</option>
        <option value="Tanpa BOBA-0">Tanpa BOBA -0</option>
        
      </select>
      <select id="drinkOption">
        <option value="">Pilih Opsi</option>
        <option value="Dingin ">Dingin</option>
        <option value="Hangat (Khusus Lemontea saja)">Hangat (Khusus Lemontea saja)</option>
      </select>
      <div class="qty-controls">
        <button onclick="updateQty('drink', -1)">-</button>
        <span id="drinkQty">1</span>
        <button onclick="updateQty('drink', 1)">+</button>
        <span>Subtotal: <span id="drinkSubtotal">0</span></span>
      </div>
      <textarea id="drinkNote" placeholder="Catatan (opsional)"></textarea>
      <button class="btn-orange" onclick="addToCart('drink')">Masukkan Keranjang</button>
    </div>
  </div>

  <!-- Keranjang -->
  <div class="cart">
    <h3>Keranjang</h3>
    <div id="cartList"></div>
    <div>Total Pesanan: <span id="cartTotal">0</span></div>

    <select id="lokasiAntar" onchange="updateOngkir()">

      <option value="">Pilih Lokasi Antar</option>

      <option value="Kilometer-0 9-15000">Kilometer-0 - 15.000</option>

      <option value="Kilometer-1-14000">Kilometer-1 - 14.000</option>

      <option value="Kilometer-2-12000">Kilometer-2 - 12.000</option>

      <option value="Kilometer-3 9-11000">Kilometer-3 - 11.000</option>

      <option value="Kilometer-4-10000">Kilometer-4 - 10.000</option>

      <option value="Mapaddegat Bawah-10000">Mapaddegat Bawah - 10.000</option>

       <option value="Kilometer-5 9-8000">Kilometer-5 - 8.000</option>

      <option value="Kilometer-6-7000">Kilometer-6 - 7.000</option>

      <option value="SP2 Setelah Perusda dst-8000">SP2 Setelah Perusda dst - 8.000</option>

      <option value="Kilometer-7-6000">Kilometer-7 - 6.000</option>

      <option value="Kilometer-8 9-6000">Kilometer-8 - 6.000</option>

      <option value="Kilometer-9-6000">Kilometer-9 - 6.000</option>

      <option value="Kilometer-10 & SP3 Sekitarnya - 7000">Kilometer-10 & SP3 Sekitarnya - 7.000</option>


    </select>
    <div>Total + Ongkir: <span id="totalPlusOngkir">0</span></div>
    <textarea id="alamatDetail" placeholder="detail alamat wajib di isi..."></textarea>
    <button class="btn-kirim" onclick="checkout()">
  KIRIM PESANAN KE WHATSAPP ADMIN
</button>
  <script>
    let cart = [];
    let ongkir = 0;
    const prices = {"Tanpa Topping": 0, "Telur Matasapi": 4000, "Telur Dadar": 4000, "Sosis": 4000, "Bakso": 4000,};

    function showNotif(msg) {
      const el = document.getElementById("notif");
      el.textContent = msg;
      el.classList.add("show");
      setTimeout(() => el.classList.remove("show"), 3000);
    }

    function updateStatus() {
      const jam = new Date().getHours();
      const buka = (jam >= 12 && jam < 24);
      const statusEl = document.getElementById("statusBar");
      statusEl.textContent = buka ? "BUKA" : "TUTUP";
      statusEl.style.background = buka ? "green" : "#dc3545";

      const semuaTombol = document.querySelectorAll("button");
      semuaTombol.forEach(btn => {
        btn.disabled = !buka;
        btn.style.opacity = buka ? "1" : "0.5";
        btn.style.cursor = buka ? "pointer" : "not-allowed";
      });
    }

    function updateQty(type, delta) {
      const qtyEl = document.getElementById(`${type}Qty`);
      let qty = parseInt(qtyEl.textContent) + delta;
      qty = Math.max(1, qty);
      qtyEl.textContent = qty;
      updateSubtotal(type);
    }

    function updateSubtotal(type) {
      const select = document.getElementById(`${type}Select`).value;
      if (!select) return;
      const [_, price] = select.split("-");
      const qty = parseInt(document.getElementById(`${type}Qty`).textContent);
      const extras = Array.from(document.getElementById(`${type}Extra`).selectedOptions).map(opt => opt.value.split("-")[0]);
      let totalExtra = extras.reduce((sum, ex) => sum + (prices[ex] || 0), 0);
      const subtotal = (parseInt(price) + totalExtra) * qty;
      document.getElementById(`${type}Subtotal`).textContent = subtotal;
    }

    document.querySelectorAll("select").forEach(el => el.addEventListener("change", () => {
      if (el.id.includes("Select") || el.id.includes("Extra")) {
        const type = el.id.includes("food") ? "food" : "drink";
        updateSubtotal(type);
      }
    }));

    function addToCart(type) {
      const select = document.getElementById(`${type}Select`).value;
      const option = document.getElementById(`${type}Option`).value;
      const extras = Array.from(document.getElementById(`${type}Extra`).selectedOptions).map(opt => opt.value.split("-")[0]);
      if (!select) return showNotif("Pilih menu terlebih dahulu.");
      if (extras.length === 0) return showNotif("Pilih minimal satu extra.");
      if (!option) return showNotif("Pilih level Pedas.");

      const [name, price] = select.split("-");
      const qty = parseInt(document.getElementById(`${type}Qty`).textContent);
      const note = document.getElementById(`${type}Note`).value;
      const extraTotal = extras.reduce((sum, code) => sum + (prices[code] || 0), 0);
      const subtotal = (parseInt(price) + extraTotal) * qty;

      const exists = cart.some(item =>
        item.name === name && item.option === option &&
        item.extras.length === extras.length &&
        item.extras.every((v, i) => v === extras[i])
      );
      if (exists) return showNotif("Item sudah ada di keranjang.");

      cart.push({ name, qty, option, extras, note, subtotal });
      showNotif("Berhasil ditambahkan ke keranjang.");
      renderCart();
    }

    function renderCart() {
      const list = document.getElementById("cartList");
      list.innerHTML = "";
      let total = 0;
      cart.forEach((item, i) => {
        total += item.subtotal;
        list.innerHTML += `
          <div class="cart-item">
            ${item.name} (${item.qty}x) - ${item.subtotal}<br>
            Opsi: ${item.option}<br>
            Extra: ${item.extras.join(", ")}<br>
            Catatan: ${item.note}<br>
            <button onclick="removeCart(${i})">Hapus</button>
          </div>
        `;
      });
      document.getElementById("cartTotal").textContent = total;
      updateTotalOngkir();
    }

    function removeCart(i) {
      cart.splice(i, 1);
      renderCart();
    }

    function updateOngkir() {
      const val = document.getElementById("lokasiAntar").value;
      if (!val) return;
      const [_, biaya] = val.split("-");
      ongkir = parseInt(biaya);
      updateTotalOngkir();
    }

    function updateTotalOngkir() {
      const total = parseInt(document.getElementById("cartTotal").textContent);
      document.getElementById("totalPlusOngkir").textContent = total + ongkir;
    }

    function checkout() {
      const lokasi = document.getElementById("lokasiAntar").value;
      const alamat = document.getElementById("alamatDetail").value.trim();
      if (!cart.length) return showNotif("Keranjang kosong.");
      if (!lokasi) return showNotif("Pilih lokasi antar.");
      if (!alamat) return showNotif("Isi alamat.");

      const waktu = new Date().toLocaleString("id-ID");
      let msg = `*Halo Admin.... Tolong proses Pesananku di WARUNG SUTAN*%0A Waktu: ${waktu}%0A%0A`;

      cart.forEach((item, i) => {
        msg += `${i+1}. ${item.name}%0A`;
        msg += `Qty: ${item.qty}%0A`;
        if (item.option) msg += `Opsi: ${item.option}%0A`;
        if (item.extras.length) msg += `Extra: ${item.extras.join(", ")}%0A`;
        if (item.note) msg += `Catatan: ${item.note}%0A`;
        msg += `Subtotal: ${item.subtotal.toLocaleString("id-ID")}%0A%0A`;
      });

      msg += `-----------------------------%0A`;
      const total = parseInt(document.getElementById("cartTotal").textContent);
      const lokasiTxt = lokasi.split("-")[0];
      msg += `Total: ${total.toLocaleString("id-ID")}%0A`;
      msg += `Ongkir (${lokasiTxt}): ${ongkir.toLocaleString("id-ID")}%0A`;
      msg += `*Total Bayar: ${(total + ongkir).toLocaleString("id-ID")}*%0A%0A`;
      msg += `*Detail Alamat: ${alamat}*`;

      const waLink = `https://wa.me/6285266610522?text=${msg}`;
      window.open(waLink, '_blank');
    }

    updateStatus();
    setInterval(updateStatus, 60000);
  </script>
</body>
</html>
